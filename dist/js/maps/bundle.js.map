{"version":3,"names":[],"mappings":"","sources":["bundle.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar toggles = document.querySelectorAll('.dropdown-toggle');\nvar dropdowns = [];\n\nvar hasClass = function hasClass(el, cl) {\n\treturn el.classList.toString().indexOf(cl) > -1 ? true : false;\n};\n\nif (toggles) {\n\ttoggles.forEach(function (toggle) {\n\t\ttoggle.addEventListener('click', function (e) {\n\n\t\t\te.stopPropagation();\n\n\t\t\tvar target = this.getAttribute('data-dropdown');\n\t\t\tif (!target) return false;\n\n\t\t\tvar dropdown = document.querySelector('#' + target);\n\t\t\tif (!dropdown) return false;\n\n\t\t\tif (hasClass(dropdown, 'is-active')) {\n\t\t\t\tdropdown.classList.remove('is-active');\n\t\t\t} else {\n\t\t\t\tdropdown.classList.add('is-active');\n\t\t\t\tdropdowns.push(dropdown);\n\t\t\t\tdropdown.addEventListener('click', function (e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}, false);\n\t\t\t}\n\t\t}, false);\n\t});\n\n\tdocument.body.addEventListener('click', function () {\n\n\t\tdropdowns.forEach(function (dropdown) {\n\t\t\tif (hasClass(dropdown, 'is-active')) {\n\t\t\t\tdropdown.classList.remove('is-active');\n\t\t\t\tdropdowns.splice(dropdowns.indexOf(dropdown), 1);\n\t\t\t}\n\t\t});\n\t}, false);\n}\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar timeHelper = require('../helpers/time');\n\nvar audio = document.querySelector(\"#player\"),\n    btnPlay = document.querySelector(\"#btn-play\"),\n    btnPause = document.querySelector(\"#btn-pause\"),\n    btnPrev = document.querySelector(\"#prev\"),\n    btnNext = document.querySelector(\"#next\"),\n    btnRepeat = document.querySelector(\"#repeat\"),\n    btnRandom = document.querySelector(\"#random\"),\n    volumeControl = document.querySelector(\"#volume\"),\n    timeLine = document.querySelector(\"#timeline\"),\n    musicTimeCount = document.querySelector(\"#time-count\"),\n    musicTime = document.querySelector(\"#time\"),\n    musicName = document.querySelector(\"#music-name\"),\n    playListElement = document.querySelector(\"#play-list\"),\n    loading = document.querySelector(\"#loading-music\"),\n    flip = document.querySelector(\"#flip-container\"),\n    rd = new FileReader();\n\nvar Player = {\n    currentTrack: 0,\n    isPlaying: false,\n    isRepeating: false,\n    isRandomized: false,\n    playList: []\n};\n\nvar setPlayList = function setPlayList(music) {\n    Player.playList.push(music);\n};\n\nvar activateListItem = function activateListItem(id) {\n    document.querySelector(\"#list-item-\" + id).classList.add(\"is-active\");\n    document.querySelector(\"#list-icon-\" + id).classList.add(\"is-active\");\n};\n\nvar inactivateListItem = function inactivateListItem(id) {\n    document.querySelector(\"#list-item-\" + id).classList.remove(\"is-active\");\n    document.querySelector(\"#list-icon-\" + id).classList.remove(\"is-active\");\n};\n\nvar clearPlayList = function clearPlayList() {\n    Player.playList = [];\n};\n\nvar showLoading = function showLoading() {\n    loading.classList.add(\"show\");\n};\n\nvar hideLoading = function hideLoading() {\n    loading.classList.remove(\"show\");\n};\n\nvar playMusic = function playMusic(track) {\n\n    rd.onloadstart = function () {\n        showLoading();\n    };\n\n    rd.onload = function () {\n        audio.src = this.result;\n    };\n\n    rd.readAsDataURL(Player.playList[track]);\n\n    audio.onloadeddata = function () {\n\n        audio.play();\n\n        flip.classList.add('is-flipped');\n        if (Player.currentTrack > -1) {\n            inactivateListItem(Player.currentTrack);\n        }\n\n        activateListItem(track);\n\n        Player.isPlaying = true;\n        Player.currentTrack = track;\n\n        hideLoading();\n        setMusicName(Player.playList[track].name);\n        setTimeLineMax(this.duration);\n        setMusicTime(this.duration);\n    };\n};\n\nvar pause = function pause() {\n\n    if (audio.src == \"\") return false;\n\n    flip.classList.remove('is-flipped');\n    inactivateListItem(Player.currentTrack);\n\n    Player.isPlaying = false;\n    audio.pause();\n};\n\nvar resume = function resume() {\n\n    if (audio.src == \"\") return false;\n\n    flip.classList.add('is-flipped');\n    activateListItem(Player.currentTrack);\n\n    Player.isPlaying = true;\n    audio.play();\n};\n\nvar playPrev = function playPrev() {\n\n    if (audio.src == \"\") return false;\n\n    var prev = Player.currentTrack - 1;\n    prev > -1 ? playMusic(prev) : playMusic(0);\n};\n\nvar playNext = function playNext() {\n\n    if (audio.src == \"\") return false;\n\n    var next = Player.currentTrack + 1;\n    var lastMusic = Player.playList.length - 1;\n    var random = Math.round(Math.random() * lastMusic);\n\n    if (!Player.isRandomized) {\n        next <= lastMusic ? playMusic(next) : playMusic(0);\n    } else {\n        playMusic(random);\n    }\n};\n\nvar repeat = function repeat() {\n    if (!Player.isRepeating) {\n        btnRepeat.classList.add('is-on');\n        audio.setAttribute(\"loop\", \"\");\n        Player.isRepeating = true;\n    } else {\n        btnRepeat.classList.remove('is-on');\n        audio.removeAttribute(\"loop\");\n        Player.isRepeating = false;\n    }\n};\n\nvar randomize = function randomize() {\n    if (!Player.isRandomized) {\n        btnRandom.classList.add('is-on');\n        Player.isRandomized = true;\n    } else {\n        btnRandom.classList.remove('is-on');\n        Player.isRandomized = false;\n    }\n};\n\nvar changeVolume = function changeVolume() {\n    audio.volume = volumeControl.value / 10;\n};\n\nvar changeTime = function changeTime() {\n    if (audio.readyState != 0) audio.currentTime = timeLine.value;\n};\n\nvar timeLineUpdate = function timeLineUpdate() {\n    timeLine.value = audio.currentTime;\n};\n\nvar setTimeLineMax = function setTimeLineMax(time) {\n    timeLine.setAttribute(\"max\", Math.round(time));\n};\n\nvar setMusicTime = function setMusicTime(time) {\n    musicTime.innerHTML = timeHelper.secondsToTime(Math.round(time));\n};\n\nvar musicCountUpdate = function musicCountUpdate(time) {\n    musicTimeCount.innerHTML = timeHelper.secondsToTime(Math.round(time));\n};\n\nvar setMusicName = function setMusicName(name) {\n    musicName.innerHTML = name.replace(\".mp3\", \"\");\n};\n\nvar createPlayList = function createPlayList() {\n\n    var musicName,\n        i,\n        li,\n        button,\n        span,\n        len = Player.playList.length;\n\n    playListElement.innerHTML = \"\";\n\n    for (i = 0; i < len; i += 1) {\n\n        musicName = document.createTextNode(Player.playList[i].name.replace(\".mp3\", \"\"));\n\n        li = document.createElement(\"li\");\n        button = document.createElement(\"button\");\n        span = document.createElement(\"span\");\n\n        button.setAttribute(\"type\", \"button\");\n        button.setAttribute(\"class\", \"btn btn-circle btn-small\");\n        button.innerHTML = '<i class=\"icon icon-play\"></i>';\n\n        (function (id) {\n            button.addEventListener('click', function () {\n                playMusic(id);\n            }, false);\n        })(i);\n\n        span.setAttribute(\"id\", \"list-icon-\" + i);\n        span.setAttribute(\"class\", \"sound-wave\");\n        span.innerHTML = \"<span class='bar'></span><span class='bar'></span><span class='bar'></span>\";\n\n        li.setAttribute(\"id\", \"list-item-\" + i);\n        li.setAttribute(\"class\", \"list-item\");\n        li.appendChild(button);\n        li.appendChild(musicName);\n        li.appendChild(span);\n        playListElement.appendChild(li);\n    };\n};\n\n//botÃµes\nbtnPlay.addEventListener(\"click\", resume, false);\nbtnPause.addEventListener(\"click\", pause, false);\nbtnPrev.addEventListener(\"click\", playPrev, false);\nbtnNext.addEventListener(\"click\", playNext, false);\nbtnRepeat.addEventListener(\"click\", repeat, false);\nbtnRandom.addEventListener(\"click\", randomize, false);\n\n//volume\nvolumeControl.addEventListener(\"change\", changeVolume, false);\n\n//timeLine\ntimeLine.addEventListener(\"change\", changeTime, false);\ntimeLine.addEventListener(\"mousedown\", function () {\n    audio.removeEventListener(\"timeupdate\", timeLineUpdate);\n}, false);\ntimeLine.addEventListener(\"mouseup\", function () {\n    audio.addEventListener(\"timeupdate\", timeLineUpdate, false);\n}, false);\n\n//player\naudio.addEventListener(\"ended\", playNext, false);\naudio.addEventListener(\"timeupdate\", timeLineUpdate, false);\naudio.addEventListener(\"timeupdate\", function () {\n    musicCountUpdate(Math.floor(this.currentTime));\n}, false);\n\nmodule.exports = {\n    setPlayList: setPlayList,\n    clearPlayList: clearPlayList,\n    playMusic: playMusic,\n    createPlayList: createPlayList\n};\n\n},{\"../helpers/time\":3}],3:[function(require,module,exports){\n'use strict';\n\nfunction padLeft(n, width, z) {\n  z = z || '0';\n  n = n + '';\n  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n}\n\nvar secondsToTime = function secondsToTime(seconds) {\n\n  if (isNaN(seconds) || seconds == \"\" || typeof seconds != 'number') return \"00:00\";\n\n  var hours = parseInt(seconds / 3600) % 24,\n      minutes = parseInt(seconds / 60) % 60,\n      seconds = parseInt(seconds % 60);\n\n  if (hours > 0) {\n    var result = padLeft(hours, 2, 0) + ':' + padLeft(minutes, 2, 0) + ':' + padLeft(seconds, 2, 0);\n  } else {\n    var result = padLeft(minutes, 2, 0) + ':' + padLeft(seconds, 2, 0);\n  }\n\n  return result;\n};\n\nmodule.exports = {\n  secondsToTime: secondsToTime\n};\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nrequire('./components/dropdown.js');\n\nvar Player = require('./components/player.js');\n\n(function () {\n\n    var btnUpload = document.querySelector(\"#btn-upload\"),\n        fileElement = document.querySelector(\"#file-element\"),\n        themeLight = document.querySelector(\"#theme-light\"),\n        themeDark = document.querySelector(\"#theme-dark\"),\n        btnsTheme = document.querySelectorAll('.theme-item-btn'),\n        btnsColor = document.querySelectorAll('.btn-color'),\n        setLocalStorage = function setLocalStorage(item, value) {\n        if (window.hasOwnProperty('localStorage')) {\n            localStorage.setItem(item, value);\n        }\n    },\n        getLocalStorage = function getLocalStorage(item) {\n        if (window.hasOwnProperty('localStorage')) {\n            return localStorage.getItem(item);\n        }\n    },\n        setTheme = function setTheme(theme) {\n\n        theme = theme || \"light\";\n        document.body.classList.remove('dark', 'light');\n        document.body.classList.add(theme);\n        setLocalStorage(\"theme\", theme);\n    },\n        setColor = function setColor(color) {\n\n        color = color || \"green\";\n        document.body.className = document.body.className.replace(/(blue|red|green|pink|purple|cyan|teal|yellow|orange)/g, '');\n        document.body.classList.add(color);\n        setLocalStorage(\"color\", color);\n    };\n\n    if (window.hasOwnProperty('localStorage')) {\n        setTheme(getLocalStorage('theme'));\n        setColor(getLocalStorage('color'));\n    }\n\n    btnUpload.addEventListener(\"click\", function (e) {\n\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (fileElement) {\n            fileElement.click();\n        }\n    }, false);\n\n    fileElement.addEventListener(\"change\", function () {\n\n        Player.clearPlayList();\n\n        for (var i = 0, len = this.files.length; i < len; i += 1) {\n            Player.setPlayList(this.files[i]);\n        }\n\n        Player.createPlayList();\n        Player.playMusic(0);\n    }, false);\n\n    btnsTheme.forEach(function (btnTheme) {\n        btnTheme.addEventListener('click', function () {\n            var themeScheme = this.getAttribute('data-theme-scheme');\n            setTheme(themeScheme);\n        }, false);\n    });\n\n    btnsColor.forEach(function (btnColor) {\n        btnColor.addEventListener('click', function () {\n            var color = this.getAttribute('data-theme-color');\n            setColor(color);\n        }, false);\n    });\n})();\n\n},{\"./components/dropdown.js\":1,\"./components/player.js\":2}],5:[function(require,module,exports){\n'use strict';\n\nrequire('./index.js');\n\n},{\"./index.js\":4}]},{},[5]);\n"],"file":"../bundle.js"}